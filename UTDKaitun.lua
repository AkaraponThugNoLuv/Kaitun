do repeat task.wait();until game:IsLoaded() task.wait(15);local LOBBY_ID=133410800847665;local CurrentID=game.PlaceId;print("---------------------------------------------------");print("üÜî Current Place ID: "   .. tostring(CurrentID) );if (CurrentID==LOBBY_ID) then repeat task.wait();until game:IsLoaded() task.wait(5);local Players=game:GetService("Players");local ReplicatedStorage=game:GetService("ReplicatedStorage");local LocalPlayer=Players.LocalPlayer;print("ü§ñ Starting Universal TD Auto Script (Merged Settings)...");local knitPath=ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit");local Knit=require(knitPath);Knit.OnStart():await();local DataController=Knit.GetController("DataController");local KnitIndex=ReplicatedStorage.Packages._Index["sleitnick_knit@1.7.0"].knit;local SetSettingRemote=KnitIndex.Services.DataService.RE.SetSetting;local BannerServiceRF=KnitIndex.Services.BannerService.RF.BuyBanner;local ClaimStarterRF=KnitIndex.Services.DataService.RF.ClaimStarterUnit;local ToggleEquipRF=KnitIndex.Services.DataService.RF.ToggleEquip;local ByteNet=ReplicatedStorage:WaitForChild("ByteNetReliable");local targetUnitNames={"Jinwoo","Jinwu","Song Jinwoo","Song Jinwu"};local settingsTrue={"LowGraphics","AutoSkip","AutoSkipSummon","AutoSkipCutscenes","DisableObtainmentMessages","SellTraitRare","SellTraitEpic","SellTraitLegendary","SellRare","SellEpic","SellLegendary"};local settingsFalse={"EnemyInfo","EnableAnimations","AbilityCutIns","MaxAoE","VFX","DamageNumbers"};local function cleanID(id) if  not id then return "";end return string.lower(string.gsub(tostring(id),"[{}]",""));end local function hasUnit(unitName) if  not DataController.Inventory then return false;end for _,item in pairs(DataController.Inventory) do if (item.UnitId and (string.lower(item.UnitId)==string.lower(unitName))) then return true;end end return false;end local function checkTargetUnit() for _,name in ipairs(targetUnitNames) do if hasUnit(name) then return true,name;end end return false;end local function equipUnit(unitName) if  not (DataController and DataController.Inventory and DataController.EquippedUnits) then warn("‚ùå DataController not ready");return;end local foundUUID;for uuid,unitData in pairs(DataController.Inventory) do local uName=unitData.Name or unitData.UnitId or unitData.id ;if (uName==unitName) then foundUUID=uuid;break;end end if  not foundUUID then warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö "   .. unitName );return;end local cleanUUID=cleanID(foundUUID);for _,id in pairs(DataController.EquippedUnits) do if (cleanID(id)==cleanUUID) then print("‚õî "   .. unitName   .. " ‡πÉ‡∏™‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß" );return;end end print("‚ö° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏™‡πà "   .. unitName );local idToSend=tostring(foundUUID);if  not string.find(idToSend,"{") then idToSend="{"   .. idToSend   .. "}" ;end ToggleEquipRF:InvokeServer(idToSend);table.insert(DataController.EquippedUnits,idToSend);print("‚úÖ ‡πÉ‡∏™‡πà "   .. unitName   .. " ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à" );end local function claimAndEquipLuffy() if hasUnit("Luffy") then equipUnit("Luffy");return;end print("üéÅ Claiming Luffy...");ClaimStarterRF:InvokeServer("Luffy");task.wait(1.2);equipUnit("Luffy");end local function claimBattlepass() local args={{}};game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("BattlepassService"):WaitForChild("RF"):WaitForChild("ClaimTiers"):InvokeServer(unpack(args));end local function applySettings() for _,s in ipairs(settingsTrue) do local attr="Settings_"   .. s ;if (LocalPlayer:GetAttribute(attr)~=true) then SetSettingRemote:FireServer(s,true);task.wait(0.05);end end for _,s in ipairs(settingsFalse) do local attr="Settings_"   .. s ;if (LocalPlayer:GetAttribute(attr)~=false) then SetSettingRemote:FireServer(s,false);task.wait(0.05);end end local codeList={"AUniversalWinter!","WinterUpd","WinterTIME!","ILoveWinter!"};local codeRemote=game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("CodeService"):WaitForChild("RF"):WaitForChild("Redeem");for _,codeName in ipairs(codeList) do local args={codeName};codeRemote:InvokeServer(unpack(args));task.wait(0.1);end print("‚úÖ Settings Applied & Codes Redeemed");claimBattlepass();end local function runAutoSummon() if checkTargetUnit() then return;end local gems=LocalPlayer:GetAttribute("Gems") or 0 ;if (gems<10000) then return;end while true do if checkTargetUnit() then break;end gems=LocalPlayer:GetAttribute("Gems") or 0 ;local summonType=nil;if (gems>=500) then summonType="TenSummon";elseif (gems>=50) then summonType="SingleSummon";else break;end BannerServiceRF:InvokeServer(summonType,"Special");task.wait(0.3);end end claimAndEquipLuffy();applySettings();runAutoSummon();task.wait(1);local found,name=checkTargetUnit();if  not found then ByteNet:FireServer(buffer.fromstring(")\f\000Final Valley\000\000\000@?\001\0001\000\004\000Easy\005\000Story\000\000"));task.wait(1.5);ByteNet:FireServer(buffer.fromstring(",\000"));else print("‚úÖ Ready with",name);end else print("‚öîÔ∏è DETECTED: IN-GAME MODE");print("‚¨áÔ∏è Running Game Script...");print("---------------------------------------------------");repeat task.wait();until game:IsLoaded() task.wait(5);local Players=game:GetService("Players");local ReplicatedStorage=game:GetService("ReplicatedStorage");local VirtualInputManager=game:GetService("VirtualInputManager");local GuiService=game:GetService("GuiService");local knit=require(ReplicatedStorage.Packages._Index["sleitnick_knit@1.7.0"].knit);if  not knit.Controllers then task.wait(0.5);end local PTC=knit.GetController("PlacedTowerController");local player=Players.LocalPlayer;local TARGET_GEMS=10000;local COST_PER_UNIT=200;local SLOT_INDEX=1;local MAX_UNITS=4;local TARGET_POSITIONS={[1]=CFrame.new(5380.3564453125,2.75, -3029.313720703125,1,0,0,0,1,0,0,0,1),[2]=CFrame.new(5377.28857421875,2.75, -3029.49560546875,1,0,0,0,1,0,0,0,1),[3]=CFrame.new(5380.4384765625,2.75, -3032.198974609375,1,0,0,0,1,0,0,0,1),[4]=CFrame.new(5377.115234375,2.75, -3032.359619140625,1,0,0,0,1,0,0,0,1)};local ServicePath=ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services");local PlaceRemote=ServicePath:WaitForChild("TowerService"):WaitForChild("RF"):WaitForChild("PlaceUnit");local UpgradeRemote=ServicePath:WaitForChild("TowerService"):WaitForChild("RF"):WaitForChild("UpgradeUnit");local ReplayRemote=ServicePath:WaitForChild("WaveService"):WaitForChild("RE"):WaitForChild("VoteReplay");local VoteStartRemote=ServicePath:WaitForChild("WaveService"):WaitForChild("RF"):WaitForChild("Vote");local SpeedRemote=ServicePath:WaitForChild("WaveService"):WaitForChild("RE"):WaitForChild("SetSpeed");local LobbyRemote=ServicePath:WaitForChild("WaveService"):WaitForChild("RE"):WaitForChild("ToLobby");local function getPlacedUnits() local units={};if (PTC and PTC.GetUnitData) then local secretData=debug.getupvalue(PTC.GetUnitData,1);if (type(secretData)=="table") then for uuid,_ in pairs(secretData) do table.insert(units,uuid);end end end return units;end local function simulateClick(x,y) VirtualInputManager:SendMouseButtonEvent(x,y,0,true,game,1);task.wait(0.05);VirtualInputManager:SendMouseButtonEvent(x,y,0,false,game,1);end local function clickGuiObject(guiObj) if ( not guiObj or  not guiObj:IsDescendantOf(game)) then return;end local pos=guiObj.AbsolutePosition;local size=guiObj.AbsoluteSize;local inset=GuiService:GetGuiInset();local centerX=pos.X + (size.X/2) ;local centerY=pos.Y + (size.Y/2) + inset.Y ;simulateClick(centerX,centerY);end local function setGameSpeed() pcall(function() SpeedRemote:FireServer(unpack({1.5}));print("‚ö° Speed set to 1.5x");end);end print("---------------------------------------------------");print("ü§ñ Full Auto V.11: [Gems Check] + [Auto Lobby]");setGameSpeed();task.spawn(function() while true do task.wait(2);local currentGems=player:GetAttribute("Gems") or 0 ;if (currentGems>=TARGET_GEMS) then print("üíéüíéüíé ‡πÄ‡∏û‡∏ä‡∏£‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ("   .. currentGems   .. " / "   .. TARGET_GEMS   .. ")" );print("üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Å‡∏•‡∏±‡∏ö Lobby...");LobbyRemote:FireServer();task.wait(999);break;end end end);task.spawn(function() print("‚ö° UI Manager: Active");while true do task.wait(0.2);pcall(function() if  not player.PlayerGui then return;end local gameUI=player.PlayerGui:FindFirstChild("GameUI");if gameUI then local missionFrame=gameUI:FindFirstChild("MissionResultFrame");if missionFrame then local mainFrame=missionFrame:FindFirstChild("Main");if (mainFrame and (mainFrame.Visible==true)) then print("üèÅ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°! ‡∏Å‡∏î Vote Replay...");ReplayRemote:FireServer();task.wait(5);return;end end end local rewardsGui=player.PlayerGui:FindFirstChild("Rewards");if rewardsGui then local foundReward=false;for _,child in pairs(rewardsGui:GetChildren()) do if (child:IsA("GuiObject") and (child.Visible==true)) then foundReward=true;print("üéÅ ‡∏£‡∏±‡∏ö Reward...");clickGuiObject(child);local vp=workspace.CurrentCamera.ViewportSize;simulateClick(vp.X/2 ,vp.Y/2 );end end if foundReward then task.wait(0.5);end end if gameUI then local hud=gameUI:FindFirstChild("HUD");if hud then local voteFrame=hud:FindFirstChild("Vote");if (voteFrame and (voteFrame.Visible==true)) then print("‚è© Vote Start + Set Speed");VoteStartRemote:InvokeServer(true);task.wait(0.5);setGameSpeed();task.wait(1);end end end end);end end);task.spawn(function() print("üéÆ Gameplay Loop Started");local hasFullTeam=false;while true do task.wait(0.5);local currentUnits=getPlacedUnits();local count= #currentUnits;local myYen=player:GetAttribute("Yen") or 0 ;if (hasFullTeam and (count==0)) then print("üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï (Replay) -> ‡∏ß‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà");hasFullTeam=false;task.wait(2);setGameSpeed();continue;end if (count<MAX_UNITS) then hasFullTeam=false;if (myYen>=COST_PER_UNIT) then local nextIndex=count + 1 ;local targetPos=TARGET_POSITIONS[nextIndex];if targetPos then PlaceRemote:InvokeServer(SLOT_INDEX,targetPos);task.wait(0.5);end end else if  not hasFullTeam then hasFullTeam=true;print("‚úÖ ‡∏ß‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ó‡∏µ‡∏° -> ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î");end for _,uuid in ipairs(currentUnits) do UpgradeRemote:InvokeServer(uuid);task.wait(0.05);end task.wait(0.5);end end end);end end
